\documentclass[12pt,a4paper]{report}
\usepackage[a4paper, top=0.98in, bottom=0.98in, left=1.85in, right=0.79in]{geometry}
\usepackage{graphicx}
\usepackage{fancyhdr}  % For custom headers and footers
\usepackage{titlesec}  % For customizing title formats
\usepackage{setspace}  % For line spacing
\usepackage[absolute,overlay]{textpos}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usepackage{booktabs} % For better-looking tables
\usepackage{amsmath} 
\usepackage{url}
\usepackage{xcolor} % for text coloring
\usepackage{listings}
\usepackage{amsmath}
\usepackage{subcaption}
\usepackage{tabularx}


% Set up spacing
\onehalfspacing

% Ensure the ToC includes subsections but not deeper levels
\setcounter{tocdepth}{1}




% Make sure chapter titles appear correctly in the header
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

\begin{document}

% Cover page
\input{cover}

\pagenumbering{roman}

\input{abstract}
\input{acknowledgements}

% Table of Contents
\clearpage
\vspace{0pt} % Remove any vertical spacing
\tableofcontents






\clearpage
\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures
\color{black}


\clearpage
\input{glossary} % Include glossary and list of abbreviations
\addcontentsline{toc}{chapter}{Glossary and List of Abbreviations} 


% Reset page numbering and start Arabic numbering

\clearpage
\pagenumbering{arabic}
\setcounter{page}{1} % Start Arabic page numbering from 1

% Set up fancyhdr for custom headers
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields
\fancyhead[L]{\text{Chapter \thechapter{}} - \small{\leftmark}}

\fancyfoot[C]{\thepage} % Centered page number in the footer
\renewcommand{\headrulewidth}{0.4pt} % Line below the header



% Format chapter titles
\titleformat{\chapter}[display]
{\normalfont\Huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{180pt}{18pt}


\chapter{Introduction}

% ========= BEGIN: CHAPTER-1 ======== %
\newpage
\input{ch1/1.1_Overview}
\input{ch1/1.2_Motivation}
\input{ch1/1.3_Problem_statement}
\input{ch1/1.4_Project_objectives}
\input{ch1/1.5_project_outline}




% ========= BEGIN: CHAPTER-2 ======== %
\chapter{Background}
\newpage
\input{ch2/2.1_Introduction}
\input{ch2/2.2_Artificial_landmarks}
\input{ch2/2.3_QR_code}
\input{ch2/2.4_Indoor_localization}
\input{ch2/2.5_Android_TalkBack}
\input{ch3/2.x_esp32}
\input{ch2/2.9_Related_work}


% ========= BEGIN: CHAPTER-3 ======== %
\chapter{Methodology}
\newpage
\input{ch3/3.1_system_arch_overview}
\input{ch3/3.2_backend_inf}
\input{ch3/3.2_Mobile_APP}
\input{ch3/3.x_I_O_devices}
\input{ch3/3.3_Localization_system}
\input{ch3/3.4_QR_Code_Placement_and_Camera_Orientation.tex}
\input{ch3/3.4_customazible_guidance}
\input{ch3/3.4_Obstacle_detection}
\input{ch3/3.6_sys_setup}
\input{ch3/3.7_Test_Eval}

\chapter{Experiment \& Result}
\newpage
\input{ch/experiment_design.tex}
\input{ch/localization.tex}
\input{ch/overall.tex}

\input{ch/analysis.tex}
\input{ch/summary.tex}

\chapter{Discussion}
\newpage
\input{ch4/discussion.tex}

% ========= BEGIN: CHAPTER-5 ======== %
\chapter{Conclusion and Future Work}
\newpage
\input{ch5/5.1_Conclusion}



\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{50pt}{40pt}

\input{references}

\newpage
\fancyhead[L]{\text{Appendix \thechapter{}}}
\addcontentsline{toc}{chapter}{Appendices}
\input{appendices}

\end{document}
